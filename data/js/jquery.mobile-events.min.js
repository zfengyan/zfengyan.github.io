(function(a){function I(){var a=E();a!==J&&(J=a,A.trigger("orientationchange"))}function w(g,b,e,h){var d=e.type;e.type=b;a.event.dispatch.call(g,e,h);e.type=d}a.attrFn=a.attrFn||{};var e="ontouchstart"in window,u=5,K=50,L=50,F=750,B=500,G="orientation"in window&&"onorientationchange"in window,f=e?"touchstart":"mousedown",v=e?"touchend":"mouseup",x=e?"touchmove":"mousemove",U=e?"tap":"click",M=e?"touchmove":"scroll",R=null;a.touch={};a.isTouchCapable=function(){return e};a.getStartEvent=function(){return f};a.getEndEvent=function(){return v};a.getMoveEvent=function(){return x};a.getTapEvent=function(){return U};a.getScrollEvent=function(){return M};a.touch.setSwipeThresholdX=function(a){if("number"!==typeof a)throw Error("Threshold parameter must be a type of number");K=a};a.touch.setSwipeThresholdY=function(a){if("number"!==typeof a)throw Error("Threshold parameter must be a type of number");L=a};a.touch.setDoubleTapInt=function(a){if("number"!==typeof a)throw Error("Interval parameter must be a type of number");B=a};a.touch.setTapHoldThreshold=function(a){if("number"!==typeof a)throw Error("Threshold parameter must be a type of number");F=a};a.touch.setTapRange=function(a){if("number"!==typeof a)throw Error("Ranger parameter must be a type of number");u=threshold};a.each("tapstart tapend tapmove tap singletap doubletap taphold swipe swipeup swiperight swipedown swipeleft swipeend scrollstart scrollend orientationchange tap2 taphold2".split(" "),function(e,b){a.fn[b]=function(a){return a?this.on(b,a):this.trigger(b)};a.attrFn[b]=!0});a.event.special.tapstart={setup:function(){var g=this,b=a(g);b.on(f,function h(a){b.data("callee",h);if(a.which&&1!==a.which)return!1;var d=b.get(0)!==window&&b.get(0)!==document?b.offset():{left:0,top:0},p=a.originalEvent,d={position:{x:e?p.touches[0].pageX:a.pageX,y:e?p.touches[0].pageY:a.pageY},offset:{x:e?Math.round(p.changedTouches[0].pageX-d.left):Math.round(a.pageX-d.left),y:e?Math.round(p.changedTouches[0].pageY-d.top):Math.round(a.pageY-d.top)},time:Date.now(),target:a.target};w(g,"tapstart",a,d);return!0})},remove:function(){a(this).off(f,a(this).data.callee)}};a.event.special.tapmove={setup:function(){var g=this,b=a(g);b.on(x,function h(a){b.data("callee",h);var d=b.get(0)!==window&&b.get(0)!==document?b.offset():{left:0,top:0},p=a.originalEvent,d={position:{x:e?p.touches[0].pageX:a.pageX,y:e?p.touches[0].pageY:a.pageY},offset:{x:e?Math.round(p.changedTouches[0].pageX-d.left):Math.round(a.pageX-d.left),y:e?Math.round(p.changedTouches[0].pageY-d.top):Math.round(a.pageY-d.top)},time:Date.now(),target:a.target};w(g,"tapmove",a,d);return!0})},remove:function(){a(this).off(x,a(this).data.callee)}};a.event.special.tapend={setup:function(){var g=this,b=a(g);b.on(v,function h(a){b.data("callee",h);var d=b.get(0)!==window&&b.get(0)!==document?b.offset():{left:0,top:0},p=a.originalEvent,d={position:{x:e?p.changedTouches[0].pageX:a.pageX,y:e?p.changedTouches[0].pageY:a.pageY},offset:{x:e?Math.round(p.changedTouches[0].pageX-d.left):Math.round(a.pageX-d.left),y:e?Math.round(p.changedTouches[0].pageY-d.top):Math.round(a.pageY-d.top)},time:Date.now(),target:a.target};w(g,"tapend",a,d);return!0})},remove:function(){a(this).off(v,a(this).data.callee)}};a.event.special.taphold={setup:function(){var g=this,b=a(g),r,h=0,d=0,t=0,p=0;b.on(f,function C(a){if(a.which&&1!==a.which)return!1;b.data("tapheld",!1);r=a.target;var m=a.originalEvent,c=Date.now();h=a.originalEvent.targetTouches?a.originalEvent.targetTouches[0].pageX:a.pageX;d=a.originalEvent.targetTouches?a.originalEvent.targetTouches[0].pageY:a.pageY;t=h;p=d;var n=b.parent().data("threshold")?b.parent().data("threshold"):b.data("threshold"),n="undefined"!==typeof n&&!1!==n&&parseInt(n)?parseInt(n):F;b.data("hold_timer",window.setTimeout(function(){var k=h-t,n=d-p;if(a.target==r&&(h==t&&d==p||k>=-u&&k<=u&&n>=-u&&n<=u)){b.data("tapheld",!0);for(var n=Date.now()-c,q=a.originalEvent.targetTouches?a.originalEvent.targetTouches:[a],k=[],H=b.get(0)!==window&&b.get(0)!==document?b.offset():{left:0,top:0},f=0;f<q.length;f++){var v={position:{x:e?m.changedTouches[f].pageX:a.pageX,y:e?m.changedTouches[f].pageY:a.pageY},offset:{x:e?Math.round(m.changedTouches[f].pageX-H.left):Math.round(a.pageX-H.left),y:e?Math.round(m.changedTouches[f].pageY-H.top):Math.round(a.pageY-H.top)},time:Date.now(),target:a.target,duration:n};k.push(v)}n=2==q.length?"taphold2":"taphold";b.data("callee1",C);w(g,n,a,k)}},n));return!0}).on(v,function q(){b.data("callee2",q);b.data("tapheld",!1);window.clearTimeout(b.data("hold_timer"))}).on(x,function m(a){b.data("callee3",m);t=a.originalEvent.targetTouches?a.originalEvent.targetTouches[0].pageX:a.pageX;p=a.originalEvent.targetTouches?a.originalEvent.targetTouches[0].pageY:a.pageY})},remove:function(){a(this).off(f,a(this).data.callee1).off(v,a(this).data.callee2).off(x,a(this).data.callee3)}};a.event.special.doubletap={setup:function(){var g=this,b=a(g),r,h=null,d,t=!1;b.on(f,function l(g){if(g.which&&1!==g.which)return!1;b.data("doubletapped",!1);b.data("callee1",l);d=g.originalEvent;if(!h){var q=b.get(0)!==window&&b.get(0)!==document?b.offset():{left:0,top:0};h={position:{x:e?d.touches[0].pageX:g.pageX,y:e?d.touches[0].pageY:g.pageY},offset:{x:e?Math.round(d.changedTouches[0].pageX-q.left):Math.round(g.pageX-q.left),y:e?Math.round(d.changedTouches[0].pageY-q.top):Math.round(g.pageY-q.top)},time:Date.now(),target:g.target,element:g.originalEvent.srcElement,index:a(g.target).index()}}return!0}).on(v,function C(q){var m=Date.now(),c=b.data("lastTouch")||m+1,c=m-c;window.clearTimeout(r);b.data("callee2",C);c<B&&h&&a(q.target).index()==h.index&&100<c?(b.data("doubletapped",!0),window.clearTimeout(R),c=b.get(0)!==window&&b.get(0)!==document?b.offset():{left:0,top:0},c={position:{x:e?q.originalEvent.changedTouches[0].pageX:q.pageX,y:e?q.originalEvent.changedTouches[0].pageY:q.pageY},offset:{x:e?Math.round(d.changedTouches[0].pageX-c.left):Math.round(q.pageX-c.left),y:e?Math.round(d.changedTouches[0].pageY-c.top):Math.round(q.pageY-c.top)},time:Date.now(),target:q.target,element:q.originalEvent.srcElement,index:a(q.target).index()},c={firstTap:h,secondTap:c,interval:c.time-h.time},t||(w(g,"doubletap",q,c),h=null),t=!0,window.setTimeout(function(){t=!1},B)):(b.data("lastTouch",m),r=window.setTimeout(function(){h=null;window.clearTimeout(r)},B,[q]));b.data("lastTouch",m)})},remove:function(){a(this).off(f,a(this).data.callee1).off(v,a(this).data.callee2)}};a.event.special.singletap={setup:function(){var g=this,b=a(g),r=null,h=null,d=0,t=0;b.on(f,function l(a){if(a.which&&1!==a.which)return!1;h=Date.now();r=a.target;b.data("callee1",l);d=a.originalEvent.targetTouches?a.originalEvent.targetTouches[0].pageX:a.pageX;t=a.originalEvent.targetTouches?a.originalEvent.targetTouches[0].pageY:a.pageY;return!0}).on(v,function C(a){b.data("callee2",C);if(a.target==r){var m=a.originalEvent.changedTouches?a.originalEvent.changedTouches[0].pageX:a.pageX,c=a.originalEvent.changedTouches?a.originalEvent.changedTouches[0].pageY:a.pageY;R=window.setTimeout(function(){var n=d-m,k=t-c;b.data("doubletapped")||b.data("tapheld")||!(d==m&&t==c||n>=-u&&n<=u&&k>=-u&&k<=u)||(n=b.get(0)!==window&&b.get(0)!==document?b.offset():{left:0,top:0},k=a.originalEvent,n={position:{x:e?k.changedTouches[0].pageX:a.pageX,y:e?k.changedTouches[0].pageY:a.pageY},offset:{x:e?Math.round(k.changedTouches[0].pageX-n.left):Math.round(a.pageX-n.left),y:e?Math.round(k.changedTouches[0].pageY-n.top):Math.round(a.pageY-n.top)},time:Date.now(),target:a.target},n.time-h<F&&w(g,"singletap",a,n))},B)}})},remove:function(){a(this).off(f,a(this).data.callee1).off(v,a(this).data.callee2)}};a.event.special.tap={setup:function(){var g=this,b=a(g),r=!1,h=null,d,t=0,p=0,l;b.on(f,function q(a){b.data("callee1",q);if(a.which&&1!==a.which)return!1;r=!0;t=a.originalEvent.targetTouches?a.originalEvent.targetTouches[0].pageX:a.pageX;p=a.originalEvent.targetTouches?a.originalEvent.targetTouches[0].pageY:a.pageY;d=Date.now();h=a.target;l=a.originalEvent.targetTouches?a.originalEvent.targetTouches:[a];return!0}).on(v,function m(a){b.data("callee2",m);var c=a.originalEvent.targetTouches?a.originalEvent.changedTouches[0].pageX:a.pageX,k=a.originalEvent.targetTouches?a.originalEvent.changedTouches[0].pageY:a.pageY,D=t-c,f=p-k;if(h==a.target&&r&&Date.now()-d<F&&(t==c&&p==k||D>=-u&&D<=u&&f>=-u&&f<=u)){c=b.get(0)!==window&&b.get(0)!==document?b.offset():{left:0,top:0};k=a.originalEvent;D=[];for(f=0;f<l.length;f++)if(a.hasOwnProperty("pageX")){var v={position:{x:e?k.changedTouches[f].pageX:a.pageX,y:e?k.changedTouches[f].pageY:a.pageY},offset:{x:e?Math.round(k.changedTouches[f].pageX-c.left):Math.round(a.pageX-c.left),y:e?Math.round(k.changedTouches[f].pageY-c.top):Math.round(a.pageY-c.top)},time:Date.now(),target:a.target};D.push(v)}w(g,2==l.length?"tap2":"tap",a,D)}})},remove:function(){a(this).off(f,a(this).data.callee1).off(v,a(this).data.callee2)}};a.event.special.swipe={setup:function(){var g,b,r,h;function d(c){l=a(c.currentTarget);l.data("callee1",d);r=c.originalEvent.targetTouches?c.originalEvent.targetTouches[0].pageX:c.pageX;h=c.originalEvent.targetTouches?c.originalEvent.targetTouches[0].pageY:c.pageY;g=r;b=h;u=!0;var n=l.get(0)!==window&&l.get(0)!==document?l.offset():{left:0,top:0},k=c.originalEvent;m={position:{x:e?k.touches[0].pageX:c.pageX,y:e?k.touches[0].pageY:c.pageY},offset:{x:e?Math.round(k.changedTouches[0].pageX-n.left):Math.round(c.pageX-n.left),y:e?Math.round(k.changedTouches[0].pageY-n.top):Math.round(c.pageY-n.top)},time:Date.now(),target:c.target}}function t(c){l=a(c.currentTarget);l.data("callee2",t);g=c.originalEvent.targetTouches?c.originalEvent.targetTouches[0].pageX:c.pageX;b=c.originalEvent.targetTouches?c.originalEvent.targetTouches[0].pageY:c.pageY;var d,k=l.parent().data("xthreshold")?l.parent().data("xthreshold"):l.data("xthreshold"),f=l.parent().data("ythreshold")?l.parent().data("ythreshold"):l.data("ythreshold"),k="undefined"!==typeof k&&!1!==k&&parseInt(k)?parseInt(k):K,f="undefined"!==typeof f&&!1!==f&&parseInt(f)?parseInt(f):L;Math.abs(g-r)>Math.abs(b-h)?(r<g&&g-r>k&&(d="swiperight"),r>g&&r-g>k&&(d="swipeleft")):(h>b&&h-b>f&&(d="swipeup"),h<b&&b-h>f&&(d="swipedown"));void 0!=d&&u&&(b=g=h=r=0,u=!1,f=l.get(0)!==window&&l.get(0)!==document?l.offset():{left:0,top:0},k=c.originalEvent,c={position:{x:e?k.touches[0].pageX:c.pageX,y:e?k.touches[0].pageY:c.pageY},offset:{x:e?Math.round(k.changedTouches[0].pageX-f.left):Math.round(c.pageX-f.left),y:e?Math.round(k.changedTouches[0].pageY-f.top):Math.round(c.pageY-f.top)},time:Date.now(),target:c.target},f=Math.abs(m.position.x-c.position.x),k=Math.abs(m.position.y-c.position.y),c={startEvnt:m,endEvnt:c,direction:d.replace("swipe",""),xAmount:f,yAmount:k,duration:c.time-m.time},q=!0,l.trigger("swipe",c).trigger(d,c))}function p(b){l=a(b.currentTarget);var c="";l.data("callee3",p);if(q){var d=l.data("xthreshold"),g=l.data("ythreshold"),d="undefined"!==typeof d&&!1!==d&&parseInt(d)?parseInt(d):K,g="undefined"!==typeof g&&!1!==g&&parseInt(g)?parseInt(g):L,f=l.get(0)!==window&&l.get(0)!==document?l.offset():{left:0,top:0},h=b.originalEvent;b={position:{x:e?h.changedTouches[0].pageX:b.pageX,y:e?h.changedTouches[0].pageY:b.pageY},offset:{x:e?Math.round(h.changedTouches[0].pageX-f.left):Math.round(b.pageX-f.left),y:e?Math.round(h.changedTouches[0].pageY-f.top):Math.round(b.pageY-f.top)},time:Date.now(),target:b.target};f=Math.abs(m.position.x-b.position.x);h=Math.abs(m.position.y-b.position.y);f>h?(m.position.x<b.position.x&&b.position.x-m.position.x>d&&(c="swiperight"),m.position.x>b.position.x&&m.position.x-b.position.x>d&&(c="swipeleft")):(m.position.y>b.position.y&&m.position.y-b.position.y>g&&(c="swipeup"),m.position.y<b.position.y&&b.position.y-m.position.y>g&&(c="swipedown"));c={startEvnt:m,endEvnt:b,direction:c.replace("swipe",""),xAmount:f,yAmount:h,duration:b.time-m.time};l.trigger("swipeend",c)}q=u=!1}var l=a(this),u=!1,q=!1;b=g=h=r=0;var m;l.on(f,d);l.on(x,t);l.on(v,p)},remove:function(){a(this).off(f,a(this).data.callee1).off(x,a(this).data.callee2).off(v,a(this).data.callee3)}};a.event.special.scrollstart={setup:function(){function g(a,d){f=d;w(b,f?"scrollstart":"scrollend",a)}var b=this,e=a(b),f,d;e.on(M,function p(a){e.data("callee",p);f||g(a,!0);clearTimeout(d);d=setTimeout(function(){g(a,!1)},50)})},remove:function(){a(this).off(M,a(this).data.callee)}};var A=a(window),E,J,y,z,N={0:!0,180:!0};G&&(y=window.innerWidth||A.width(),z=window.innerHeight||A.height(),y=y>z&&50<y-z,z=N[window.orientation],y&&z||!y&&!z)&&(N={"-90":!0,90:!0});a.event.special.orientationchange={setup:function(){if(G)return!1;J=E();A.on("throttledresize",I);return!0},teardown:function(){if(G)return!1;A.off("throttledresize",I);return!0},add:function(a){var b=a.handler;a.handler=function(a){a.orientation=E();return b.apply(this,arguments)}}};a.event.special.orientationchange.orientation=E=function(){var a=document.documentElement;return(G?N[window.orientation]:a&&1.1>a.clientWidth/a.clientHeight)?"portrait":"landscape"};a.event.special.throttledresize={setup:function(){a(this).on("resize",S)},teardown:function(){a(this).off("resize",S)}};var S=function(){O=Date.now();P=O-T;250<=P?(T=O,a(this).trigger("throttledresize")):(Q&&window.clearTimeout(Q),Q=window.setTimeout(I,250-P))},T=0,Q,O,P;a.each({scrollend:"scrollstart",swipeup:"swipe",swiperight:"swipe",swipedown:"swipe",swipeleft:"swipe",swipeend:"swipe",tap2:"tap",taphold2:"taphold"},function(e,b){a.event.special[e]={setup:function(){a(this).on(b,a.noop)}}})})(jQuery);